<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<meta name="renderer" content="webkit">
		<meta name="format-detection" content="telephone=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<meta name="format-detection" content="telephone=no">
		<meta HTTP-EQUIV="Pragma" CONTENT="no-cache">
		<meta name="keywords" content="" />
		<meta name="description" content="" />

		<title>以太零投票-ETZ_Vote</title>

		<!--  icon start   -->

		<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
		<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />

		<!--  icon end  -->

		<!-- Custom styles for our template -->

		<link rel="stylesheet " href=" /stylesheets/main.min.css ">

		<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
	    <script src=" js/html5shiv.js "></script>
	    <script src=" js/respond.min.js "></script>
	    <![endif]-->
	    <style>
	    	html{font-size: 100px}
	    </style>
			<script type="text/javascript" src="/javascripts/web3.min.js"></script>


	</head>

	<body>
		<div class="content">
			<div class="menu">
			<div class="header-fix">
				<p class="logo">
					<a href="index"><img src="/images/logo_min.png" /> </a>
				</p>
			</div>
			<a href="javascript:;" class="mobnav-btn"><span></span><span></span><span></span></a>

			<!--<div class="dropdown ">
				<a href="# " class="dropdown-toggle " data-toggle="dropdown ">语言<b class="caret "></b></a>
				<ul class="dropdown-menu ">
					<li>
						<a onclick="en()">English</a>
					</li>
					<li class="active">
						<a onclick="zh()">中文</a>
					</li>
				</ul>
			</div>-->
			</div>


			<div class="con_left header-nav" style="display: block;">
				<img src="/images/logo.png" class="logo_img" />
				<ul>
					<img src="/images/line.png" class="line" />
					<a href="#">
					<li class="active">
						<p id="create" onclick="create()">创建提案</p>
					</li>
					</a>
					<img src="/images/line.png" class="line" />
					<a href="#">
					<li>
						<p id="command" onclick="command()">钱包命令</p>
					</li>
					</a>
					<img src="/images/line.png" class="line" />
					<!-- <a href="#">
					<li>
						<p id="info" onclick="info()">投票详情</p>
					</li>
					</a>
					<img src="/images/line.png" class="line" />
					<a href="#">
					<li>
						<p id="list" onclick="list()">提案列表</p>
					</li>
					</a>
					<img src="/images/line.png"  class="line" /> -->
				</ul>
			</div>
			<div class="con_right" id="create_con">
				<div class="title">
					<h4>创建提案</h4>
				</div>
				<div class="create_con">
					<p class="create_con_info">在提案创建页面，输入提案详情，点击“创建提案”按钮后，将生成data数据，然后调用MetaMask可以发起交易创建一个提案，完成调用运行智能合约，这一过程需要支付50个ETZ。</p>
					<li>
						<p>提案名称</p>
						<input type="text" class="reinput proposal_name"/>
					</li>
					<li>
						<p>提案链接地址</p>
						<input type="text"  class="reinput proposal_link"/>
					</li>
					<li>
						<p>支付地址</p>
						<input type="text"  class="reinput addr" maxlength="64"/>
					</li>
					<li style="overflow: hidden;">
						<div>
							<p>资助数量</p>
							<input type="text"  class="reinput applyAmount" maxlength="8" />
						</div>
						<div>
							<p>资助发放方式</p>
							<input type="text"  class="reinput sendPeriod"  maxlength="1" />
						</div>
					</li>
					<li class="create_btn">
<<<<<<< HEAD
						<!-- onclick="rebtn" -->
						<button class="rebtn" >创建提案</button>
=======
						<button class="rebtn" >创建提案</button>
						<a href="index"><button>返回首页</button></a>
>>>>>>> a0a4e78f21cef3e9a05583fb43efcdf3bed886fd
					</li>
					
				</div>

			</div>
			<div class="con_right" id="command_con" style="display: none;">
				<div class="title">
					<h4>钱包命令</h4>
				</div>
				<div class="command_con">
					<h4>准备提案命令：</h4>
					<p>将以下内容粘贴到钱包控制台中，以50ETZ的成本生成提案。</p>
<<<<<<< HEAD

					<textarea id="txta">test</textarea>
					<!-- <script type="text/javascript">
						var txt;
						txt = document.getElementById('txta').value; //获取textarea的值
						document.write (txt);
						document.getElementById('txta').value = data_command;  //设置textarea的值
					</script> -->
=======
					
					<textarea id="txta">test</textarea>     
					<script type="text/javascript">     
						var txt;      
						txt = document.getElementById('txta').value; //获取textarea的值    
						document.write (txt);     
						document.getElementById('txta').value = 22222223;  //设置textarea的值            
					</script>
>>>>>>> a0a4e78f21cef3e9a05583fb43efcdf3bed886fd


					<a href="index"><button>返回首页</button></a>
					<!-- <h4>交易ID：</h4>
					<p>粘贴生成的事务标识以移至下一步。</p>
					<textarea class="comand_textarea2" onpaste="paste()"></textarea> -->
				</div>
			</div>
			<div class="con_right" id="info_con" style="display: none;">
				<div class="title">
					<h4>提案</h4>
				</div>
				<div class="info_con">
					<ul>
						<li>
							<div>标题</div>
							<div>标题</div>
						</li>
						<li>
							<div>提案者</div>
							<div>提案者</div>
						</li>
						<li>
							<div>支付地址</div>
							<div>支付地址</div>
						</li>
						<li>
							<div>资助金额</div>
							<div>资助金额</div>
						</li>
						<li>
							<div>资助发放方式</div>
							<div>资助发放方式</div>
						</li>
						<li>
							<div>票数</div>
							<div>票数</div>
						</li>
						<li>
							<div>你的意见</div>
							<div>你的意见</div>
						</li>
					</ul>
					<p>每个投票周期第一个区块时的活跃主节点获得该周期内的投票权。</p>
					<p>对于每个提案，上述选民都具有一票投票权，赞成反对或弃权。</p>
					<li class="info_btn">
						<button>同意</button>
						<!-- <button>弃权</button> -->
						<button>反对</button>
					</li>
				</div>
			</div>
			<div class="con_right" id="list_con" style="display: none;">
				<div class="title">
					<h4>提案列表</h4>
					<div class="lists">
							<div class="coming-box">
									<ul class="coming">
									</ul>
							</div>
					</div>
				</div>
			</div>
		</div>

<!--<div class="bottom">
	<p>Copyright © 2018 EtherZero. All Rights Reserved.</p>
</div>-->

		<!-- JavaScript libs are placed at the end of the document so the pages load faster -->
		<script type="text/javascript" src="/javascripts/jquery.min.js "></script>
		<script type="text/javascript" src="/javascripts/layout.js"></script>
		<script type="text/javascript">
		window.addEventListener('load', function() {
		console.log('33333');
			// Checking if Web3 has been injected by the browser (Mist/MetaMask)
			if (typeof web3 !== 'undefined') {
				// Use Mist/MetaMask's provider
				web3 = new Web3(Web3.givenProvider)
				web3.eth.getCoinbase(console.log)
				// web3js.eth.signTransaction({from: web3js.eth.getCoinbase(), to: '0xc1e47b18030d373c6c21106a63c5621972621461',gas: 2000000, value: 10000000000000} , console.log)
			} else {
				console.log('No web3? You should consider trying MetaMask!')
				// fallback - use your fallback strategy (local node / hosted node + in-dapp id mgmt / fail)
				web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));
			}

			// Now you can start your app & access web3 freely:

		})
		</script>
		<script type="text/javascript">


           window.onload = window.onresize = function() {
           var w = window.innerWidth;
	       w = (w > 640) ? 640 : w;
	       w = (w < 320) ? 320 : w;
		   document.documentElement.style.fontSize = (w / 640) * 100 + "px";
		   var vote = GetQueryString('vote');
		   if(vote == '0'){
			   $('#create_con').hide();
			   $('#command_con').show();
			   $('.con_left li').removeClass('active');
			   $('#create').parent('li').addClass('active');
			}

	       }
		</script>

	</body>

<script src="/javascripts/prefixfree.min.js"></script>
<script src="/javascripts/zepto.min.js"></script>
<script src="/javascripts/vote.js"></script>
<<<<<<< HEAD
<!-- <script src="/javascripts/rote_app.js"></script> -->
=======
<!--script src="/javascripts/rote_app.js"></script-->
<script type ="text/javascript">

</script>
<!--script type="text/javascript">

var abi=[{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"proposals","outputs":[{"name":"name","type":"string"},{"name":"link","type":"string"},{"name":"applyAmount","type":"uint256"},{"name":"sendPeriod","type":"uint256"},{"name":"voteNumYes","type":"uint256"},{"name":"voteNumNo","type":"uint256"},{"name":"voteNumAct","type":"uint256"},{"name":"adopted","type":"bool"},{"name":"passed","type":"bool"},{"name":"addr","type":"address"},{"name":"payedTimes","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MasterAddr","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"VoteIndex","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"setOwner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"preSend","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"proposalAddr","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"blockOrigin","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"PreVoter","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getContractBalance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"sortedProposals","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"pname","type":"string"},{"name":"plink","type":"string"},{"name":"papplyAmount","type":"uint256"},{"name":"psendPeriod","type":"uint256"},{"name":"paddr","type":"address"}],"name":"proposalSubmit","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"blockStart","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"sortProposal","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"cycleIndex","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"voters","outputs":[{"name":"voteType","type":"uint256"},{"name":"proposalIndex","type":"uint256"},{"name":"votedIndex","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"votePeriod","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"index","type":"uint256"},{"name":"voteType","type":"uint256"}],"name":"vote","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"startRefresh","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"start","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"sendApply","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"etzPerProposal","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"masterNodeNum","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getProposalsNum","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"name","type":"string"},{"indexed":true,"name":"link","type":"string"}],"name":"Submit","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"}],"name":"Voteevent","type":"event"}];
var mycontract = web3.eth.contract(abi).at('0xc1e47b18030d373c6c21106a63c5621972621461');

	$('.rebtn').click(function(event) {
		mycontract.vote.sendTransaction(1,1,function(){	})
		 	return;			
		});
</script-->
>>>>>>> a0a4e78f21cef3e9a05583fb43efcdf3bed886fd
</html>
